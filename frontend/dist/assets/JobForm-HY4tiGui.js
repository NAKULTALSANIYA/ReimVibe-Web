import{j as e}from"./ui-vendor-BxZ4Xgry.js";import{e as t,j as s,r as a}from"./react-vendor--as-ZyZY.js";import{y as o}from"./util-vendor-Ik_Or1do.js";import{a as l}from"./api-DMg9Yiwh.js";import"./chart-vendor-DqVrzz_A.js";import"./http-vendor-DypGwsJR.js";function d(){const d=t(),{id:r}=s(),n=!!r,[i,c]=a.useState({title:"",type:"",location:"",description:"",status:"Open"}),[u,p]=a.useState(n),[m,b]=a.useState(!1);a.useEffect(()=>{n&&j()},[r]);const j=async()=>{try{const e=await l.get(`/jobs/${r}`);c({title:e.data.title,type:e.data.type,location:e.data.location,description:e.data.description,status:e.data.status})}catch(e){o.error(e.response?.data?.message||e.message),d("/admin/jobs")}finally{p(!1)}};return u?e.jsx("p",{children:"Loading..."}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:n?"Edit Job":"Add New Job"}),e.jsx("button",{className:"bg-gray-400 text-black px-4 py-2 rounded-md font-semibold hover:bg-gray-300",onClick:()=>d("/admin/jobs"),children:"Back"})]}),e.jsx("div",{className:"bg-white p-6 rounded-xl shadow-md",children:e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),b(!0);try{n?(await l.put(`/jobs/${r}`,i),o.success("Job updated successfully!")):(await l.post("/jobs",i),o.success("Job added successfully!")),d("/admin/jobs")}catch(t){o.error(t.response?.data?.message||t.message)}finally{b(!1)}},className:"space-y-4",children:[e.jsx("input",{type:"text",placeholder:"Job Title",value:i.title,onChange:e=>c({...i,title:e.target.value}),className:"w-full border p-2 rounded-md",required:!0}),e.jsxs("select",{value:i.type,onChange:e=>c({...i,type:e.target.value}),className:"w-full border p-2 rounded-md",required:!0,children:[e.jsx("option",{value:"",children:"Select Type"}),e.jsx("option",{value:"Full-time",children:"Full-time"}),e.jsx("option",{value:"Part-time",children:"Part-time"}),e.jsx("option",{value:"Internship",children:"Internship"}),e.jsx("option",{value:"Contract",children:"Contract"})]}),e.jsx("input",{type:"text",placeholder:"Location",value:i.location,onChange:e=>c({...i,location:e.target.value}),className:"w-full border p-2 rounded-md",required:!0}),e.jsx("textarea",{placeholder:"Job Description",value:i.description,onChange:e=>c({...i,description:e.target.value}),className:"w-full border p-2 rounded-md",rows:"4",required:!0}),e.jsxs("select",{value:i.status,onChange:e=>c({...i,status:e.target.value}),className:"w-full border p-2 rounded-md",children:[e.jsx("option",{value:"Open",children:"Open"}),e.jsx("option",{value:"Closed",children:"Closed"})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:()=>d("/admin/jobs"),className:"px-4 py-2 rounded-md border",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:m,className:"bg-yellow-400 px-6 py-2 rounded-md font-semibold hover:bg-yellow-300 disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Saving...":n?"Update":"Save"})]})]})})]})}export{d as default};
