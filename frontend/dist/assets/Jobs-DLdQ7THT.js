import{f as j,r as t,a as x,y as n,j as e}from"./index-BwYdblA9.js";import{T as b,l as f}from"./react-confirm-alert-CIYP-H3n.js";import{m as N}from"./proxy-KUc6fMt2.js";import{S as g}from"./square-pen-TjvOfTBO.js";import{E as w}from"./eye-C8c2jHZ8.js";function _(){const l=j(),[h,i]=t.useState([]),[u,p]=t.useState(!0),[r,d]=t.useState(null),[o,c]=t.useState(null);t.useEffect(()=>{m()},[]);const m=async()=>{try{const s=await x.get("/jobs");s.data.data?i(s.data.data):(i([]),d(s.data.message||"No jobs found"))}catch(s){d(s.response?.data?.message||s.message),n.error(s.response?.data?.message||s.message)}finally{p(!1)}},y=async s=>{f.confirmAlert({title:"Confirm Delete",message:"Are you sure you want to delete this job?",buttons:[{label:"Yes",onClick:async()=>{c(s);try{await x.delete(`/jobs/${s}`),n.success("Job deleted successfully!"),await m()}catch(a){n.error(a.response?.data?.message||a.message)}finally{c(null)}}},{label:"No"}]})};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Manage Jobs"}),e.jsx("button",{className:"bg-yellow-400 text-black px-4 py-2 rounded-md font-semibold hover:bg-yellow-300",onClick:()=>l("/admin/jobs/add"),children:"+ Add New"})]}),u?e.jsx("p",{children:"Loading jobs..."}):r?e.jsx("p",{className:"text-red-500",children:r}):e.jsx("div",{className:"bg-white p-6 rounded-xl shadow-md",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2",children:"Title"}),e.jsx("th",{className:"py-2",children:"Type"}),e.jsx("th",{className:"py-2",children:"Location"}),e.jsx("th",{className:"py-2",children:"Status"}),e.jsx("th",{className:"py-2",children:"Actions"})]})}),e.jsx("tbody",{children:h.map((s,a)=>e.jsxs(N.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:a*.1},className:"border-t",children:[e.jsx("td",{className:"py-2",children:s.title}),e.jsx("td",{className:"py-2",children:s.type}),e.jsx("td",{className:"py-2",children:s.location}),e.jsx("td",{className:"py-2",children:s.status}),e.jsxs("td",{className:"py-2 space-x-3",children:[e.jsx("button",{className:"text-blue-500 hover:underline",onClick:()=>l(`/admin/jobs/edit/${s._id}`),children:e.jsx(g,{})}),e.jsx("button",{className:"text-red-500 hover:underline disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>y(s._id),disabled:o===s._id,children:o===s._id?"Deleting...":e.jsx(b,{})}),e.jsx("button",{className:"text-green-500 hover:underline",onClick:()=>l(`/admin/jobs/view/${s._id}`),children:e.jsx(w,{})})]})]},s._id))})]})})]})}export{_ as default};
