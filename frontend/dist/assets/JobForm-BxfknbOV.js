import{e as f,f as j,r,y as d,j as e}from"./index-8Nqh3rfZ.js";import{a as i}from"./api-BaoFEcul.js";function y(){const l=f(),{id:n}=j(),o=!!n,[s,a]=r.useState({title:"",type:"",location:"",description:"",status:"Open"}),[m,b]=r.useState(o),[c,u]=r.useState(!1);r.useEffect(()=>{o&&h()},[n]);const h=async()=>{try{const t=await i.get(`/jobs/${n}`);a({title:t.data.title,type:t.data.type,location:t.data.location,description:t.data.description,status:t.data.status})}catch(t){d.error(t.response?.data?.message||t.message),l("/admin/jobs")}finally{b(!1)}},x=async t=>{t.preventDefault(),u(!0);try{o?(await i.put(`/jobs/${n}`,s),d.success("Job updated successfully!")):(await i.post("/jobs",s),d.success("Job added successfully!")),l("/admin/jobs")}catch(p){d.error(p.response?.data?.message||p.message)}finally{u(!1)}};return m?e.jsx("p",{children:"Loading..."}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:o?"Edit Job":"Add New Job"}),e.jsx("button",{className:"bg-gray-400 text-black px-4 py-2 rounded-md font-semibold hover:bg-gray-300",onClick:()=>l("/admin/jobs"),children:"Back"})]}),e.jsx("div",{className:"bg-white p-6 rounded-xl shadow-md",children:e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[e.jsx("input",{type:"text",placeholder:"Job Title",value:s.title,onChange:t=>a({...s,title:t.target.value}),className:"w-full border p-2 rounded-md",required:!0}),e.jsxs("select",{value:s.type,onChange:t=>a({...s,type:t.target.value}),className:"w-full border p-2 rounded-md",required:!0,children:[e.jsx("option",{value:"",children:"Select Type"}),e.jsx("option",{value:"Full-time",children:"Full-time"}),e.jsx("option",{value:"Part-time",children:"Part-time"}),e.jsx("option",{value:"Internship",children:"Internship"}),e.jsx("option",{value:"Contract",children:"Contract"})]}),e.jsx("input",{type:"text",placeholder:"Location",value:s.location,onChange:t=>a({...s,location:t.target.value}),className:"w-full border p-2 rounded-md",required:!0}),e.jsx("textarea",{placeholder:"Job Description",value:s.description,onChange:t=>a({...s,description:t.target.value}),className:"w-full border p-2 rounded-md",rows:"4",required:!0}),e.jsxs("select",{value:s.status,onChange:t=>a({...s,status:t.target.value}),className:"w-full border p-2 rounded-md",children:[e.jsx("option",{value:"Open",children:"Open"}),e.jsx("option",{value:"Closed",children:"Closed"})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:()=>l("/admin/jobs"),className:"px-4 py-2 rounded-md border",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:c,className:"bg-yellow-400 px-6 py-2 rounded-md font-semibold hover:bg-yellow-300 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Saving...":o?"Update":"Save"})]})]})})]})}export{y as default};
