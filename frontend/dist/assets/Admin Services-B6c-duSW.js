import{r as a,a as x,j as e,B as A,y as i}from"./index-BwYdblA9.js";import{T as D,l as M}from"./react-confirm-alert-CIYP-H3n.js";import{m as o}from"./proxy-KUc6fMt2.js";import{P as B}from"./plus-BufHLIbn.js";import{S as I}from"./square-pen-TjvOfTBO.js";import{b as j,a as z,B as H,Z as P,P as W,T as q,S as V,G as $,C as G,W as U}from"./zap-BnZz7vxP.js";const w=[{name:"code",label:"Code",component:j},{name:"smartphone",label:"Mobile",component:z},{name:"bot",label:"AI",component:H},{name:"zap",label:"Automation",component:P},{name:"palette",label:"Design",component:W},{name:"trending-up",label:"Marketing",component:q},{name:"share-2",label:"Social Media",component:V},{name:"graduation-cap",label:"Training",component:$},{name:"briefcase",label:"Consultancy",component:A},{name:"bar-chart-3",label:"Data",component:G},{name:"wifi",label:"IoT",component:U}],Z=u=>{const c=w.find(h=>h.name===u);return c?c.component:j};function Q(){const[u,c]=a.useState([]),[h,S]=a.useState(!0),[b,N]=a.useState(null),[n,l]=a.useState({title:"",description:"",icon:"code"}),[C,r]=a.useState(!1),[d,g]=a.useState(null),[v,m]=a.useState(!1),[f,y]=a.useState(null);a.useEffect(()=>{p()},[]);const p=async()=>{try{const s=await x.get("/services");c(s.data.data||[])}catch(s){N(s.response?.data?.message||s.message)}finally{S(!1)}},k=async s=>{s.preventDefault(),m(!0);try{await x.post("/services",n),await p(),l({title:"",description:"",icon:"code"}),r(!1),i.success("Service added successfully!")}catch(t){i.error(t.response?.data?.message||t.message)}finally{m(!1)}},T=async s=>{s.preventDefault(),m(!0);try{await x.put(`/services/${d.id}`,n),await p(),l({title:"",description:"",icon:"code"}),g(null),r(!1),i.success("Service updated successfully!")}catch(t){i.error(t.response?.data?.message||t.message)}finally{m(!1)}},E=s=>{M.confirmAlert({title:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("svg",{className:"warning-icon",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),e.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),e.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),e.jsx("span",{children:"Delete Service?"})]}),message:e.jsxs("div",{className:"custom-confirm-dialog",children:[e.jsx("p",{className:"text-gray-600",children:"Are you sure you want to permanently delete this service?"}),e.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"This action cannot be undone."})]}),buttons:[{label:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),e.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),e.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),"Delete"]}),onClick:async()=>{y(s);try{await x.delete(`/services/${s}`),await p(),i.success("Service deleted successfully!")}catch(t){i.error(t.response?.data?.message||t.message)}finally{y(null)}}},{label:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),"Cancel"]})}],closeOnEscape:!0,closeOnClickOutside:!0,overlayClassName:"confirm-overlay"})},L=s=>{l({title:s.title,description:s.description,icon:s.icon||"code"}),g(s),r(!0)};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Manage Services"}),e.jsxs(o.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-yellow-400 text-black px-4 py-2 rounded-lg font-semibold hover:bg-yellow-300 transition-colors flex items-center gap-2",onClick:()=>r(!0),children:[e.jsx(B,{size:16}),"Add New"]})]}),h?e.jsx("p",{children:"Loading services..."}):b?e.jsx("p",{className:"text-red-500",children:b}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:u.map(s=>{const t=Z(s.icon);return e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(t,{className:"w-6 h-6 text-accent"}),e.jsx("h2",{className:"font-semibold",children:s.title})]}),e.jsx("p",{className:"text-gray-500",children:s.description}),e.jsxs("div",{className:"mt-3 flex gap-2",children:[e.jsxs(o.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"flex items-center gap-1 px-3 py-1 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",onClick:()=>L(s),children:[e.jsx(I,{size:16}),"Edit"]}),e.jsxs(o.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"flex items-center gap-1 px-3 py-1 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>E(s.id),disabled:f===s.id,children:[e.jsx(D,{size:16}),f===s.id?"Deleting...":"Delete"]})]})]},s.id)})}),C&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-xl w-96 shadow-lg",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:d?"Edit Service":"Add New Service"}),e.jsxs("form",{onSubmit:d?T:k,className:"space-y-3",children:[e.jsx("input",{type:"text",placeholder:"Service Title",value:n.title,onChange:s=>l({...n,title:s.target.value}),className:"w-full border p-2 rounded-md",required:!0}),e.jsx("textarea",{placeholder:"Service Description",value:n.description,onChange:s=>l({...n,description:s.target.value}),className:"w-full border p-2 rounded-md",required:!0}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Icon"}),e.jsx("div",{className:"grid grid-cols-4 gap-2 p-2 border rounded-md",children:w.map(s=>{const t=s.component;return e.jsx("button",{type:"button",onClick:()=>l({...n,icon:s.name}),className:`p-2 rounded-md flex items-center justify-center transition-colors ${n.icon===s.name?"bg-accent text-white":"bg-gray-100 hover:bg-gray-200"}`,title:s.label,children:e.jsx(t,{className:"w-5 h-5"})},s.name)})})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[e.jsx(o.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"button",onClick:()=>{r(!1),g(null),l({title:"",description:"",icon:"code"})},className:"px-4 py-2 rounded-lg border hover:bg-gray-100 transition-colors",children:"Cancel"}),e.jsx(o.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"submit",disabled:v,className:"bg-yellow-400 px-6 py-2 rounded-lg font-semibold hover:bg-yellow-300 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:v?"Saving...":d?"Update":"Save"})]})]})]})})]})}export{Q as default};
